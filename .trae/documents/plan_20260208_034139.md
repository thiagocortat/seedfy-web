# Implementação da Feature TTS Kokoro no Backoffice

## 1. Configuração de Ambiente e Tipos
- [ ] Verificar/Adicionar variáveis de ambiente `KOKORO_BASE_URL` e `KOKORO_API_KEY`.
- [ ] Criar tipos/interfaces para as respostas da API de TTS e metadados.

## 2. Backend (API Routes)
- [ ] Criar `apps/admin/src/app/api/admin/content/tts/voices/route.ts`
    - Implementar GET para listar vozes (proxy para Kokoro).
    - Cachear resposta se possível (opcional para MVP).
- [ ] Criar `apps/admin/src/app/api/admin/content/tts/generate/route.ts`
    - Implementar POST.
    - Validar input (texto, voz, velocidade).
    - Chamar Kokoro API.
    - Salvar MP3 no Storage Temporário (`content/temp/tts/...`).
    - Retornar URL assinada/publica do temp.
- [ ] Criar `apps/admin/src/app/api/admin/content/tts/accept/route.ts`
    - Implementar POST.
    - Receber path temporário.
    - Mover/Copiar para Storage Final (`content/{type}/{uuid}/media.mp3`).
    - Retornar URL final.

## 3. Frontend (Componentes)
- [ ] Criar componente `TTSGenerator` em `apps/admin/src/components/tts-generator.tsx`
    - Estados: loading, playing, text, voice, speed.
    - Fetch de vozes no mount.
    - UI: Dropdown de vozes, Slider de velocidade, Textarea com contador.
    - Player de áudio para preview.
    - Botões: Gerar, Aceitar, Descartar.
- [ ] Atualizar `apps/admin/src/components/content-form.tsx`
    - Adicionar estado para controlar Tabs (Upload vs TTS).
    - Integrar `TTSGenerator` na aba TTS.
    - Lidar com a URL retornada pelo TTS (atualizar `mediaUrl` e input hidden).

## 4. Integração e Validação
- [ ] Testar fluxo: Selecionar TTS -> Gerar -> Preview -> Aceitar.
- [ ] Verificar se `media_url` é preenchido corretamente no form.
- [ ] Salvar conteúdo e verificar persistência.

## 5. Limpeza e Refinamento
- [ ] Adicionar tratamento de erros (Toast notifications).
- [ ] Verificar limites (tamanho texto).
